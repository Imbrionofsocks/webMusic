<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../../out/css/milligram.css">
    <link rel="stylesheet" href="../../out/css/mainStyle.css">
</head>
<body>
<div class="wrapper">
    <div class="bg-image"></div>
    <div class="main-container">
        <div class="header-container">
            <div class="image"></div>
            <label for="searchInput">Поиск</label>
            <input type="text" placeholder="Введите название трека" id="searchInput">
            <div class="user-image"></div>
        </div>
        <div class="fieldset-main-container">
            <div class="left-column">
                <div class="fieldset-container">
                    <div class="fieldset-inner-container">
                    </div>
                    <div class="fieldset-inner-container">
                    </div>
                </div>
                <div class="fieldset-container">
                    <div class="fieldset-inner-container">
                    </div>
                    <div class="fieldset-inner-container">
                    </div>
                    <div class="fieldset-inner-container">
                    </div>
                    <div class="fieldset-inner-container">
                    </div>
                </div>
            </div>
            <div class="right-column">
                <div class="playlist-container">
                        <div class="playlist-data-container">
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                    <div class="track-container">
                        <button class="button-yellow play"><span class="play-icon">▶</span></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="player">
            <label for="progress">Дора- Ты задолбал меня игнорить</label>
            <audio id="song">
                <source src="../../src/music/dora.mp3" type="audio/mpeg">
            </audio>
            <input type="range" value="0" id="progress" style="background: lightgray">
            <div class="controls">
                <img class="controls-butt" src="../../src/pics/backward.svg" alt="backward">
                <img class="controls-butt" style="padding-left:1px" src="../../src/pics/play.svg" alt="play" id="play" onclick="playPause()">
                <img class="controls-butt" src="../../src/pics/pause.svg" alt="pause" id="pause" hidden onclick="playPause()">
                <img class="controls-butt" src="../../src/pics/forward.svg" alt="forward">
            </div>

        </div>
    </div>
</div>
<script>
    let progress = document.getElementById("progress");
    let song = document.getElementById("song");
    song.onloadeddata=function (){
        progress.max=song.duration;
        progress.value=song.currentTime;
    }
    function playPause(){
        if(document.getElementById("pause").hidden){
            song.play();
            document.getElementById("pause").removeAttribute("hidden")
            document.getElementById("play").setAttribute("hidden", "hidden")
        }else{
            song.pause();
            document.getElementById("play").removeAttribute("hidden")
            document.getElementById("pause").setAttribute("hidden", "hidden")
        }

    }
    if(song.play()){
        setInterval(()=>{
            progress.value=song.currentTime;
            updateProgressGradient()
    },500)
    }

    progress.oninput = function() {
        song.play()
        song.currentTime = progress.value;
        updateProgressGradient();
        document.getElementById("pause").removeAttribute("hidden");
        document.getElementById("play").setAttribute("hidden", "hidden");
    }
    function updateProgressGradient() {
        let value = (progress.value / progress.max) * 100;
        progress.style.background = `linear-gradient(to right, #ffd000 ${value}%, #757575 ${value}%)`;
    }

</script>
</body>
</html>